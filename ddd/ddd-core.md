# DDD 核心概念

## 领域

边界内要解决的业务问题域。例如保险领域。

## 子域

一个更小的问题域或者更下的业务范围。例如保险可以拆分为承保、理赔等子域。

### 核心子域

### 通用子域

### 支撑子域

## 限界上下文

限定的上下文环境中，封装通用语言和领域对象，确保领域内的术语、领域对象是一个确切的含义。

最好一个子域与一个限界上下文对齐。

## 共享内核

## 实体

- 拥有唯一标识符
- 标识符经历各种状态变更后，仍然保持不变
- 以领域对象（DO）存在，每个实体对象都有唯一ID
- 包含业务逻辑
- 实体和数据库形态的关系
  - 可能和数据库没有关系
  - 可能是1：1
  - 可能是1：N
  - 可能是N：1 

## 值对象

- 通过属性值来识别的对象
- 没有标识符
- 不可变
- 基本不包含业务逻辑

## 聚合

- 由业务和逻辑紧密关联的实体和值对象组合而成
- 聚合内数据的修改必须由聚合根统一组织
- 一个微服务内可以有一个或者多个聚合（不建议一个聚合对应一个微服务，过度拆分）

## 聚合根
- 有一定的业务规则确保聚合内数据的一致性
- 根实体
- 聚合的管理者
- 聚合对外的接口
- 一个聚合只有一个聚合根

## 领域事件
- 可以在不同限界上下文或者领域模型之间
- 最终一致性

## 领域服务
- 由同一个聚合不同实体完成的服务

## 应用服务
- 由不同聚合不同实体完成的服务

## 通用语言

- 名词：对应领域模型中的实体对象
- 动词：对应领域模型中的领域事件或命令

## 分层架构